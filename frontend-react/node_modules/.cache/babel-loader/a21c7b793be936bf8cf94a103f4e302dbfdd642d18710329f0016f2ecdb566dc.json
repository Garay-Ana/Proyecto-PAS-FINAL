{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabyg\\\\Downloads\\\\prueba este si\\\\prueba\\\\frontend-react\\\\src\\\\components\\\\GestionHorariosContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport GestionHorariosCalendario from './GestionHorariosCalendario';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst USERS_API_URL = 'https://proyecto-pas-final.onrender.com/api/usuarios';\nconst REMOTE_EMPLOYEES_API_URL = 'https://proyecto-pas-final.onrender.com/api/empleados-remotos';\nconst HORARIOS_API_BASE_URL = 'https://proyecto-pas-final.onrender.com/api/horarios';\nconst GestionHorariosContainer = () => {\n  _s();\n  const [usuarios, setUsuarios] = useState([]);\n  const [horarios, setHorarios] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [usuariosRes, remotosRes] = await Promise.all([fetch(USERS_API_URL), fetch(REMOTE_EMPLOYEES_API_URL)]);\n        if (!usuariosRes.ok) throw new Error(`Error al cargar usuarios: ${usuariosRes.status}`);\n        if (!remotosRes.ok) throw new Error(`Error al cargar empleados remotos: ${remotosRes.status}`);\n        const usuariosData = await usuariosRes.json();\n        const remotosData = await remotosRes.json();\n\n        // Combinar usuarios normales y remotos\n        const combinedUsuarios = [...usuariosData, ...remotosData];\n        setUsuarios(combinedUsuarios);\n\n        // Obtener horarios para el primer usuario si existe\n        if (combinedUsuarios.length > 0) {\n          const empleadoId = combinedUsuarios[0].id || combinedUsuarios[0].uid;\n          const horariosRes = await fetch(`${HORARIOS_API_BASE_URL}/${empleadoId}`);\n          if (!horariosRes.ok) throw new Error(`Error al cargar horarios: ${horariosRes.status}`);\n          const horariosData = await horariosRes.json();\n          setHorarios(horariosData);\n        } else {\n          setHorarios([]);\n        }\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Cargando datos...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(GestionHorariosCalendario, {\n    usuarios: usuarios,\n    horarios: horarios\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 10\n  }, this);\n};\n_s(GestionHorariosContainer, \"pcmgDHYxvF/8tzfWOQ62oPiGFZ0=\");\n_c = GestionHorariosContainer;\nexport default GestionHorariosContainer;\nvar _c;\n$RefreshReg$(_c, \"GestionHorariosContainer\");","map":{"version":3,"names":["React","useState","useEffect","GestionHorariosCalendario","jsxDEV","_jsxDEV","USERS_API_URL","REMOTE_EMPLOYEES_API_URL","HORARIOS_API_BASE_URL","GestionHorariosContainer","_s","usuarios","setUsuarios","horarios","setHorarios","loading","setLoading","error","setError","fetchData","usuariosRes","remotosRes","Promise","all","fetch","ok","Error","status","usuariosData","json","remotosData","combinedUsuarios","length","empleadoId","id","uid","horariosRes","horariosData","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/gabyg/Downloads/prueba este si/prueba/frontend-react/src/components/GestionHorariosContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport GestionHorariosCalendario from './GestionHorariosCalendario';\r\n\r\nconst USERS_API_URL = 'https://proyecto-pas-final.onrender.com/api/usuarios';\r\nconst REMOTE_EMPLOYEES_API_URL = 'https://proyecto-pas-final.onrender.com/api/empleados-remotos';\r\nconst HORARIOS_API_BASE_URL = 'https://proyecto-pas-final.onrender.com/api/horarios';\r\n\r\nconst GestionHorariosContainer = () => {\r\n  const [usuarios, setUsuarios] = useState([]);\r\n  const [horarios, setHorarios] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [usuariosRes, remotosRes] = await Promise.all([\r\n          fetch(USERS_API_URL),\r\n          fetch(REMOTE_EMPLOYEES_API_URL),\r\n        ]);\r\n\r\n        if (!usuariosRes.ok) throw new Error(`Error al cargar usuarios: ${usuariosRes.status}`);\r\n        if (!remotosRes.ok) throw new Error(`Error al cargar empleados remotos: ${remotosRes.status}`);\r\n\r\n        const usuariosData = await usuariosRes.json();\r\n        const remotosData = await remotosRes.json();\r\n\r\n        // Combinar usuarios normales y remotos\r\n        const combinedUsuarios = [...usuariosData, ...remotosData];\r\n\r\n        setUsuarios(combinedUsuarios);\r\n\r\n        // Obtener horarios para el primer usuario si existe\r\n        if (combinedUsuarios.length > 0) {\r\n          const empleadoId = combinedUsuarios[0].id || combinedUsuarios[0].uid;\r\n          const horariosRes = await fetch(`${HORARIOS_API_BASE_URL}/${empleadoId}`);\r\n          if (!horariosRes.ok) throw new Error(`Error al cargar horarios: ${horariosRes.status}`);\r\n          const horariosData = await horariosRes.json();\r\n          setHorarios(horariosData);\r\n        } else {\r\n          setHorarios([]);\r\n        }\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (loading) return <p>Cargando datos...</p>;\r\n  if (error) return <p>Error: {error}</p>;\r\n\r\n  return <GestionHorariosCalendario usuarios={usuarios} horarios={horarios} />;\r\n};\r\n\r\nexport default GestionHorariosContainer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}